/* global definitions */
:root {
	/* this sets a lot of our sizing rules and defines various spacing paramters */
	--ratio: 1.314 /* pi */;
	--s-5: calc(var(--s-4) / var(--ratio));
	--s-4: calc(var(--s-3) / var(--ratio));
	--s-3: calc(var(--s-2) / var(--ratio));
	--s-2: calc(var(--s-1) / var(--ratio));
	--s-1: calc(var(--s0) / var(--ratio));
	--s0: 1rem;
	--s1: calc(var(--s0) * var(--ratio));
	--s2: calc(var(--s1) * var(--ratio));
	--s3: calc(var(--s2) * var(--ratio));
	--s4: calc(var(--s3) * var(--ratio));
	--s5: calc(var(--s4) * var(--ratio));
	/* this is mainly used to define/exclude/capture the max-inline-size, in units of characters */
	--measure: 60ch;
}

/* universal definitions */
* {
	box-sizing: border-box;
	max-inline-size: var(--measure);
  font-family: Arial, Helvetica, sans-serif;
	font-size: var(--s0); 
}

/* important exclusions to the max-inline-size definition */
html,
body,
div,
header,
nav,
main,
footer {
  max-inline-size: none;
}

body {
	width: 98vw;
	height: 96vh;

	display: flex;
	flex-direction: column;
	justify-content: flex-start;
	align-items: stretch;
	position: fixed;


	/* background image */
    background-image: url("images/background/tsbg-hres.jpg"), url("images/background/tsbg-lres.jpg");
    background-repeat: no-repeat, no-repeat;
    background-attachment: fixed, fixed;
    background-size: cover, cover;
    background-position: center,center;
	
    overflow: hidden;
}



/* for header tag */
h1 { font-weight:bold; font-size:var(--s1); }
/* for draggable elements headings */
h2 { font-weight:bold; font-size:var(--s1); } 
/* for post titles */
h3 { font-weight:bold; font-size:var(--s3); text-transform:uppercase; }
/* for other titles : categories, archive dates, reset button */
h4 { font-weight:bold; font-size:var(--s-1); }

/* <p> tag is by default covered by universal definitions [ln 20],
hence why it doesn't need to be defined below */

/* for post subtitles */
em { font-size:var(--s-1); }
/* class for initials */
.initials { font-weight:600; }

button {
	background:none;
  color: inherit;
	border:none;
  padding:0;
	font:inherit;
  outline:inherit;
	width: max-content;
  cursor:pointer;
  display:inline-block;
}

a:link { text-decoration: none; font-family: inherit; font-size: inherit; color: black; padding:0;}
a:visited{ color: inherit; }
/* nifty solution to resolve shifting during normal to italic hover transition */
/* github user 350D proposed this */
/* does not work with the default serif fonts for whatever reason */ 
a::before {
    display: block;
    content: attr(title);
    font-style: italic;
    height: 0;
    overflow: hidden;
    visibility: hidden;
}
a:hover{ font-style:italic; }
/* accordingly assign the .link[...] class to the desired element */
.linkarchives { font-style: normal; }
.linkarchives_italic { font-style: italic; }
.linkshop { font-style: normal; }
.linkshop_italic { font-style: italic; }
.linkcategories { font-style: normal; }
.linkcategories_italic { font-style: italic; }
.linklistenup { font-style: normal; }
.linklistenup_italic { font-style: italic; }

img { 
	width: var(--measure);
	max-width: 100%;
	height: auto;
}

iframe {
	width: var(--measure);
	max-width: 100%;
	min-height: 15rem;
	height: 20vh;	
}

header {
	display: flex;
	flex-wrap: wrap;
	flex: 0 0 auto;
	justify-content: center;

	padding-left: 5vw;
	padding-right: 5vw;
  padding-bottom: 4vh;

	overflow: hidden;
}

header div:first-child {
	display: flex; 
	flex-basis: 100%; 
	justify-content: space-between;
  padding-bottom: 2vh;
}

header .search-container {
  display: flex;
  flex-basis: 100%;
  flex-direction: row;
  justify-content:left;
  flex-wrap: wrap;

	overflow: hidden;
}

header .search-container > * {
	display: flex;
  flex-direction: row;
  flex-basis: auto;

	gap: var(--s2);
  margin-bottom: var(--s0);
  padding-left: var(--s2);

  overflow: scroll;
}



header .search-container a, button { flex-shrink: 0; }

.searchbar { height:3rem; border-style:solid; border-color:black; }

/* we set the elements in the menu bar to display:none by default */
/* to hide them until they are toggled */
#searchalt { display: none; }
#archivesalt { display: none; }
#categoriesalt { display: none; }
#listenupalt { display: none; }
#shopalt { display: none; }

main {
	display: flex;
	overflow-x: hidden;
	flex: 1 1 auto;

	padding-left: 7vw;
	padding-right: 7vw;	
}

.content {

	width: 100vw;
	height: 100%;
	padding-top: 15vh;

	overflow-y: scroll;
	scrollbar-width: none;
    -ms-overflow-style: none;
}

.content > *:not(h3) {
	padding-left: 5vw;
	margin-top: 2rem;
}

.hide-scrollbar {
  /*FireFox*/
  scrollbar-width: none;
  /*IE10+*/
  -ms-overflow-style: -ms-autohiding-scrollbar;
}
.hide-scrollbar::-webkit-scrollbar {
  /*Chrome, Safari, Edge*/
  display: none;
}


#fly { width: 10rem; height: 10rem; padding: 1rem;}

.masked-overflow-y {
    /* scroll bar width, for use in mask calculations */
    --scrollbar-width: 0px;
    /* mask fade distance, for use in mask calculations */
    --mask-height: 3rem;
    /* If content exceeds height of container, overflow! */
    overflow-y: auto;
    /* Need to make sure container has bottom space,
  otherwise content at the bottom is always faded out */
    padding-bottom: var(--mask-height);

    /* The CSS mask */
    /* The content mask is a linear gradient from top to bottom */
    --mask-image-content: linear-gradient(
        to bottom,
        transparent,
        black var(--mask-height),
        black calc(100% - var(--mask-height)),
        transparent
    );
    /* Here we scale the content gradient to the width of the container 
  minus the scrollbar width. The height is the full container height */
    --mask-size-content: calc(100% - var(--scrollbar-width)) 100%;
    /* The scrollbar mask is a black pixel */
    --mask-image-scrollbar: linear-gradient(black, black);
    /* The width of our black pixel is the width of the scrollbar.
  The height is the full container height */
    --mask-size-scrollbar: var(--scrollbar-width) 100%;
    /* Apply the mask image and mask size variables */
    mask-image: var(--mask-image-content), var(--mask-image-scrollbar);
    mask-size: var(--mask-size-content), var(--mask-size-scrollbar);
    /* Position the content gradient in the top left, and the 
  scroll gradient in the top right */
    mask-position: 0 0, 100% 0;
    /* We don't repeat our mask images */
    mask-repeat: no-repeat, no-repeat;
}

.masked-overflow-x {
    /* scroll bar width, for use in mask calculations */
    --scrollbar-height: 0px;
    /* mask fade distance, for use in mask calculations */
    --mask-height: 2rem;
    /* If content exceeds height of container, overflow! */
    overflow-x: auto;
    /* Need to make sure container has space to the right,
  otherwise content at that end is always faded out */
	  padding-right: var(--mask-height);
    
    /* The CSS mask */
    /* The content mask is a linear gradient from top to bottom */
    --mask-image-content: linear-gradient(
        to right,
		transparent,
        black var(--mask-height),
        black calc(100% - var(--mask-height)),
		transparent
  
    );
    /* Here we scale the content gradient to the width of the container 
  minus the scrollbar width. The height is the full container height */
    --mask-size-content: calc(100% - var(--scrollbar-height)) 100%;
    /* The scrollbar mask is a black pixel */
    --mask-image-scrollbar: linear-gradient(black, black);
    /* The width of our black pixel is the width of the scrollbar.
  The height is the full container height */
    --mask-size-scrollbar: var(--scrollbar-height) 100%;
    /* Apply the mask image and mask size variables */
    mask-image: var(--mask-image-content), var(--mask-image-scrollbar);
    mask-size: var(--mask-size-content), var(--mask-size-scrollbar);
    /* Position the content gradient in the top left, and the 
  scroll gradient in the top right */
    mask-position: 0 0, 100% 0;
    /* We don't repeat our mask images */
    mask-repeat: no-repeat, no-repeat;
}

#landing { position:absolute; bottom:13vh; right:20vw; }
#landing h1 { direction: rtl; }
#landing img { display: none; mix-blend-mode: multiply; width: auto; height: 25rem; padding-bottom: 10vh;;}
#landing:hover img {display: block; mix-blend-mode: multiply; }